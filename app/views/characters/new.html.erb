<!-- app/views/characters/new.html.erb -->
<h1 style="margin-bottom:16px;">キャラクター作成</h1>

<% if @player.errors.any? %>
  <div style="background:#ffecec; border:1px solid #ff5b5b; padding:12px; margin-bottom:16px; border-radius:8px;">
    <strong><%= pluralize(@player.errors.count, "件のエラー") %>があります:</strong>
    <ul>
      <% @player.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: @player, url: characters_path, method: :post, local: true do |f| %>
  <div style="margin-bottom:16px;">
    <%= f.label :name, "名前" %>
    <%= f.text_field :name, required: true, placeholder: "Hero" ,style: "width:250px;padding:8px;border:1px solid #ccc;border-radius:6px;" %>
  </div>

  <div style="margin-bottom:16px;">
    <%= f.label :element_id, "属性" %>
    <%= f.collection_select :element_id, @elements, :id, :name, { prompt: "選択してください" }, { required: true ,style: "padding:8px;border-radius:6px;" } %>
  </div>

  <!-- base_hp はDB側 default:5 があれば不要。念のため固定で送るなら hidden でもOK
  <%= f.hidden_field :base_hp, value: 5 %>
  -->

    <%= f.submit "キャラクターを作成する",
    data: { disable_with: "作成中..." },
    style: "background:#21c57b;color:#fff;padding:10px 20px;border-radius:8px;border:none;font-weight:700;cursor:pointer;" %>

<% end %>